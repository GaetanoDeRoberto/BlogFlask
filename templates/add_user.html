{% extends 'base.html' %} {% block content %}

<!-- stampa messaggio dopo invio form -->

{% for messaggio in get_flashed_messages() %}
<div class="alert alert-success alert-dismissible fade show" role="alert">
  {{messaggio}}
  <button
    type="button"
    class="btn-close"
    data-bs-dismiss="alert"
    aria-label="Close"
  ></button>
</div>
{% endfor %}

<!-- sezione form verifica condizione -->

{% if nome %}
<h1>Utente {{nome}} aggiunto!!</h1>
<br /><br />

<table class="table table-striped table-hover">
  <thead>
    <th><b>ID</b></th>
    <th><b>NOME</b></th>
    <th><b>MAIL</b></th>
  </thead>
  {% for unUtente in gliUtenti %}
  <tr>
    <td>{{ unUtente.id }}</td>
    <td>{{ unUtente.nome }}</td>
    <td>{{ unUtente.email }}</td>
  </tr>
  {% endfor %}
</table>
{% else %}
<h1>User List:</h1>
<br />
<div class="shadow p-3 mb-5 bg-body-tertiary rounded">
  <form method="POST">
    {{form.hidden_tag()}} {{form.nome.label(class="form-label")}}
    {{form.nome(class="form-control")}}
    <br />
    {{form.email.label(class="form-label")}}
    {{form.email(class="form-control")}}
    <br />
    {{form.invia(class="btn btn-secondary")}}
  </form>
</div>

<table class="table table-striped table-hover">
  <thead>
    <th><b>ID</b></th>
    <th><b>NOME</b></th>
    <th><b>MAIL</b></th>
  </thead>
  {% for unUtente in gliUtenti %}
  <tr>
    <td>{{ unUtente.id }}</td>
    <td>{{ unUtente.nome }}</td>
    <td>{{ unUtente.email }}</td>
  </tr>
  {% endfor %}
</table>

{% endif %} {% endblock %}
