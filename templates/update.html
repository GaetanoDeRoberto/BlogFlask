{% extends 'base.html' %} {% block content %}

<!-- stampa messaggio dopo invio form -->

{% for messaggio in get_flashed_messages() %}
<div class="alert alert-success alert-dismissible fade show" role="alert">
  {{messaggio}}
  <button
    type="button"
    class="btn-close"
    data-bs-dismiss="alert"
    aria-label="Close"
  ></button>
</div>
{% endfor %}

<!-- sezione form verifica condizione -->

{% if nome %}
<h1>Utente {{nome}} aggiornato!!</h1>
<br /><br />

<table class="table table-striped table-hover">
  <thead>
    <th><b>ID</b></th>
    <th><b>NOME</b></th>
    <th><b>MAIL</b></th>
  </thead>
  {% for unUtente in gliUtenti %}
  <tr>
    <td>{{ unUtente.id }}</td>
    <td>{{ unUtente.nome }}</td>
    <td>{{ unUtente.email }}</td>
    <td>{{ unUtente.telefono }}</td>
  </tr>
  {% endfor %}
</table>
{% else %}
<h1>Aggiornamento Utente {{nome}}</h1>
<br />
<div class="shadow p-3 mb-5 bg-body-tertiary rounded">
  <form action="/update/{{name_to_update.id}}" method="POST">
    {{form.hidden_tag()}} {{form.nome.label(class="form-label")}}
    {{form.nome(class="form-control", value=name_to_update.nome)}}
    <br />
    {{form.email.label(class="form-label")}}
    {{form.email(class="form-control", value=name_to_update.email)}}
    <br />
    {{form.telefono.label(class="form-label")}}
    {{form.telefono(class="form-control", value=name_to_update.telefono)}}
    <br />
    {{form.invia(class="btn btn-secondary")}}
  </form>
</div>

{% endif %} {% endblock %}
  